<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/quiz.css" />
    <!-- <script src="./js/sessao.js"></script> -->
    <title>QUIZ</title>
</head>

<body>
    <!-- Inicio Header -->
    <header class="conteinerHeader">
        <div class="header">
            <div class="container">
                <div class="headerImagem">
                    <img src="imagens/Vintage Fitness Concept (1) (1) 1.png" alt="" height="80px" />
                    <h1 class="titulo">BuildingTech</h1>
                </div>
                <ul class="navbar">
                    <li><a href="index.html" class="linkHeader">Inicial</a></li>
                    <li><a href="" class="linkHeader">Sobre Mim</a></li>
                    <li><a href="login.html" class="linkHeader">Login</a></li>
                    <li><a href="cadastro.html" class="linkHeader">Cadastro</a></li>
                </ul>
            </div>
        </div>
    </header>
    <!-- Final do Header -->
    <!-- Inicio Quiz -->
    <section id="window1">
        <div class="cardQuiz">
            <div id="div_iniciarQuiz" class="iniciarQuiz">
                <p> Seja Bem vindo ao BuildingTech Quiz<br>
                    O Quiz dos bodybuilders <br>
                    Clique no botão pra começar
                </p>
            </div>
            <div id="div_terminarQuiz" class="cardTerminouQuiz">
                <h1>Quiz Finalizado!</h1>
                <p id="p_mensagenParabens"></p>
                <button class="botaoIniciar">
                    Dashboard
                </button> <br>
                <button onclick="tentarNovamente()" class="botaoIniciar" style="width: 170px;">
                    Tentar Novamente
                </button>
            </div>
            <div id="div_pergunta" class="pergunta">
                <p>
                    1 – Quais Foram os Principais Campeões da Categoria Ope

                    n bodybuilding?
                </p>
            </div>
            <div id="div_alternativas" class="alternativas">
                <p>
                    <button id="botaoAlternativa" onclick="proximaQuestao(), verificarResposta(this)" value="0"
                        class="botaoAlternativa">
                        A – Henry Cavill, Chris Evans e Arnold Schwarzenegger.
                    </button>
                    <br> <br>
                    <button id="botaoAlternativa" onclick="proximaQuestao(), verificarResposta(this)" value="correta"
                        class="botaoAlternativa">
                        B - Arnold Schwarzenegger, Lee Haney e Ronnie Coleman.
                    </button>
                    <br> <br>
                    <button id="botaoAlternativa" onclick="proximaQuestao(), verificarResposta(this)" value="0"
                        class="botaoAlternativa">
                        C – Cbum, Ramon Dino e Urs Kalecinski.
                    </button>
                    <br> <br>
                    <button id="botaoAlternativa" onclick="proximaQuestao(), verificarResposta(this)" value="0"
                        class="botaoAlternativa">
                        D – Ronnie Coleman, Jay Cutler e Brandon Curry
                    </button>
                </p>
            </div>
            <div id="div_botaoIniciar" class="flexBotao">
                <button id="botaoIniciarQuiz" onclick="comecarQuiz()" class="botaoIniciar">
                    Iniciar
                </button>
            </div>
        </div>
    </section>
    <!-- Final Quiz -->
    <!-- Inicio Footer -->
    <footer>
        <div class="headerImagem">
            <img src="imagens/Vintage Fitness Concept (1) (1) 1.png" alt="" height="80px" />
            <h1 class="titulo">BuildingTech</h1>
        </div>
    </footer>
    <!-- Final Footer -->
</body>

</html>

<script>
    let pergunta = 1
    let acertos = 0
    let erros = 0

    function tentarNovamente() {
        window.location = "./quiz.html"
    }

    function comecarQuiz() {
        div_iniciarQuiz.style.display = "none"
        div_botaoIniciar.style.display = "none"
        div_pergunta.style.display = "flex"
        div_alternativas.style.display = "flex"
    }

    function proximaQuestao() {
        limparDIV()
        pergunta += 1
        if (pergunta == 2) {
            div_pergunta.innerHTML = `2 – Quais Foram os Principais Campeões da Categoria Classic Physique?`

            div_alternativas.innerHTML =
                `<p>
                    <button id="botaoAlternativa" onclick="proximaQuestao(), verificarResposta(this)" value="0" class="botaoAlternativa">
                        A – Chris Hemsworth, Chris Evans e Tom Hiddleston.
                    </button>
                    <br> <br>
                    <button id="botaoAlternativa" onclick="proximaQuestao(), verificarResposta(this)" value="0" class="botaoAlternativa">
                        B - Renato Cariani, Julio Balestrin e Toguro.
                    </button>
                    <br> <br>
                    <button id="botaoAlternativa" onclick="proximaQuestao(), verificarResposta(this)" value="0" class="botaoAlternativa">
                        C – Cbum, Breon Ansley e Ramon Dino.
                    </button>
                    <br> <br>
                    <button id="botaoAlternativa" onclick="proximaQuestao(), verificarResposta(this)" value="correta" class="botaoAlternativa">
                        D – Cbum, Breon Ansley e Danny Hester.
                    </button>
                </p>`
        } else if (pergunta == 3) {
            div_pergunta.innerHTML = `3 – Quais foram os principais Campeões da Categoria Men’s Physique?`

            div_alternativas.innerHTML =
                `<p>
                    <button id="botaoAlternativa" onclick="proximaQuestao(), verificarResposta(this)" value="0" class="botaoAlternativa">
                        A – Diogo Montenegro, Felipe Franco e Sheviii2k.
                    </button>
                    <br> <br>
                    <button id="botaoAlternativa" onclick="proximaQuestao(), verificarResposta(this)" value="0" class="botaoAlternativa">
                        B - Caike Pro, Felipe Franco e Brandon Hendrickson.
                    </button>
                    <br> <br>
                    <button id="botaoAlternativa" onclick="proximaQuestao(), verificarResposta(this)" value="correta" class="botaoAlternativa">
                        C – Brandon Hendrickson, Jeremy Buendia e Ryan Terry.
                    </button>
                    <br> <br>
                    <button id="botaoAlternativa" onclick="proximaQuestao(), verificarResposta(this)" value="0" class="botaoAlternativa">
                        D – Ramon Dino, Rafael Brandão e Lebron James.
                    </button>
                </p>`
        } else if (pergunta == 4) {
            div_pergunta.innerHTML = `4 – Quantos títulos teve Ronnie Coleman?`

            div_alternativas.innerHTML =
                `<p>
                    <button id="botaoAlternativa" onclick="proximaQuestao(), verificarResposta(this)" value="0" class="botaoAlternativa">
                        A – 2
                    </button>
                    <br> <br>
                    <button id="botaoAlternativa" onclick="proximaQuestao(), verificarResposta(this)" value="0" class="botaoAlternativa">
                        B - 15
                    </button>
                    <br> <br>
                    <button id="botaoAlternativa" onclick="proximaQuestao(), verificarResposta(this)" value="correta" class="botaoAlternativa">
                        C – 8
                    </button>
                    <br> <br>
                    <button id="botaoAlternativa" onclick="proximaQuestao(), verificarResposta(this)" value="0" class="botaoAlternativa">
                        D – 6
                    </button>
                </p>`
        } else if (pergunta == 5) {
            div_pergunta.innerHTML = `5 – Porque Ronnie Coleman e considerado o Maior do bodybuilding?`

            div_alternativas.innerHTML =
                `<p>
                    <button id="botaoAlternativa" onclick="proximaQuestao(), verificarResposta(this)" value="0" class="botaoAlternativa">
                        A – Por vencer oito vezes consecutivas, de 1998 a 2005.
                    </button>
                    <br> <br>
                    <button id="botaoAlternativa" onclick="proximaQuestao(), verificarResposta(this)" value="correta" class="botaoAlternativa">
                        B - Por elevar os padrões do esporte com sua massa muscular impressionante e carisma, inspirando gerações de atletas e deixando um legado duradouro.
                    </button>
                    <br> <br>
                    <button id="botaoAlternativa" onclick="proximaQuestao(), verificarResposta(this)" value="0" class="botaoAlternativa">
                        C – Porque ele tinha uma quantidade absurda de massa magra sendo natural e ganhou títulos sendo natural.
                    </button>
                    <br> <br>
                    <button id="botaoAlternativa" onclick="proximaQuestao(), verificarResposta(this)" value="0" class="botaoAlternativa">
                        D – Porque seguia a dieta.
                    </button>
                </p>`
        } else if (pergunta == 6) {
            div_pergunta.innerHTML = `6 – Quem é o maior campeão da Categoria Classic Physique?`

            div_alternativas.innerHTML =
                `<p>
                    <button id="botaoAlternativa" onclick="proximaQuestao(), verificarResposta(this)" value="correta" class="botaoAlternativa">
                        A – Cbum.
                    </button>
                    <br> <br>
                    <button id="botaoAlternativa" onclick="proximaQuestao(), verificarResposta(this)" value="0" class="botaoAlternativa">
                        B - Ramon Dino.
                    </button>
                    <br> <br>
                    <button id="botaoAlternativa" onclick="proximaQuestao(), verificarResposta(this)" value="0" class="botaoAlternativa">
                        C – Urs Kalecinski.
                    </button>
                    <br> <br>
                    <button id="botaoAlternativa" onclick="proximaQuestao(), verificarResposta(this)" value="0" class="botaoAlternativa">
                        D – Renato Cariani.
                    </button>
                </p>`
        } else if (pergunta == 7) {
            div_pergunta.innerHTML = `7 – Quando Foi criado o Mr. Olympia?`

            div_alternativas.innerHTML =
                `<p>
                    <button id="botaoAlternativa" onclick="proximaQuestao(), verificarResposta(this)" value="0" class="botaoAlternativa">
                        A – 1963.
                    </button>
                    <br> <br>
                    <button id="botaoAlternativa" onclick="proximaQuestao(), verificarResposta(this)" value="correta" class="botaoAlternativa">
                        B - 1965.
                    </button>
                    <br> <br>
                    <button id="botaoAlternativa" onclick="proximaQuestao(), verificarResposta(this)" value="0" class="botaoAlternativa">
                        C – 1968.
                    </button>
                    <br> <br>
                    <button id="botaoAlternativa" onclick="proximaQuestao(), verificarResposta(this)" value="0" class="botaoAlternativa">
                        D – 1970.
                    </button>
                </p>`
        } else if (pergunta == 8) {
            div_pergunta.innerHTML = `8 – O que é o fisiculturismo?`

            div_alternativas.innerHTML =
                `<p>
                    <button id="botaoAlternativa" onclick="proximaQuestao(), verificarResposta(this)" value="0" class="botaoAlternativa">
                        A – Um esporte de resistência cardiovascular.
                    </button>
                    <br> <br>
                    <button id="botaoAlternativa" onclick="proximaQuestao(), verificarResposta(this)" value="0" class="botaoAlternativa">
                        B -  Uma forma de artes marciais.
                    </button>
                    <br> <br>
                    <button id="botaoAlternativa" onclick="proximaQuestao(), verificarResposta(this)" value="correta" class="botaoAlternativa">
                        C – O culto ao corpo, a busca por um físico perfeito.
                    </button>
                    <br> <br>
                    <button id="botaoAlternativa" onclick="proximaQuestao(), verificarResposta(this)" value="0" class="botaoAlternativa">
                        D – Um tipo de dança rítmica.
                    </button>
                </p>`
        } else if (pergunta == 9) {
            div_pergunta.innerHTML = `9 – Em quais anos Arnold Schwarzenegger venceu o Mr. Olympia?`

            div_alternativas.innerHTML =
                `<p>
                    <button id="botaoAlternativa" onclick="proximaQuestao(), verificarResposta(this)" value="correta" class="botaoAlternativa">
                        A – 1970-1975, 1980.
                    </button>
                    <br> <br>
                    <button id="botaoAlternativa" onclick="proximaQuestao(), verificarResposta(this)" value="0" class="botaoAlternativa">
                        B -  1969-1974, 1981.
                    </button>
                    <br> <br>
                    <button id="botaoAlternativa" onclick="proximaQuestao(), verificarResposta(this)" value="0" class="botaoAlternativa">
                        C – 1971-1976, 1981.
                    </button>
                    <br> <br>
                    <button id="botaoAlternativa" onclick="proximaQuestao(), verificarResposta(this)" value="0" class="botaoAlternativa">
                        D – 1972-1977, 1980.
                    </button>
                </p>`
        } else if (pergunta == 10) {
            div_pergunta.innerHTML = `10 – Qual foi o lugar sede do primeiro Mr. Olympia e quem foi o campeão?`

            div_alternativas.innerHTML =
                `<p>
                    <button id="botaoAlternativa" onclick="proximaQuestao(), verificarResposta(this)" value="0" class="botaoAlternativa">
                        A – Brooklyn, EUA. Sergio Oliva.
                    </button>
                    <br> <br>
                    <button id="botaoAlternativa" onclick="proximaQuestao(), verificarResposta(this)" value="0" class="botaoAlternativa">
                        B -  Nova York, EUA. Arnold Schwarzenegger.
                    </button>
                    <br> <br>
                    <button id="botaoAlternativa" onclick="proximaQuestao(), verificarResposta(this)" value="0" class="botaoAlternativa">
                        C – Miami, EUA. Franco Columbu.
                    </button>
                    <br> <br>
                    <button id="botaoAlternativa" onclick="proximaQuestao(), verificarResposta(this)" value="correta" class="botaoAlternativa">
                        D – Las Vegas, EUA. Larry Scott.
                    </button>
                </p>`
        }
        // if (pergunta > 10) {
        //     terminarQuiz()
        //     cadastrar()
        // }

    }

    function terminarQuiz() {
        div_pergunta.style.display = "none"
        div_alternativas.style.display = "none"
        div_terminarQuiz.style.display = "flex"
    }
    function limparDIV() {
        div_pergunta.innerHTML = ""
        div_alternativas.innerHTML = ""
    }

    function verificarResposta(botao) {
        var resposta = botao.value;

        if (resposta == "correta") {
            acertos += 1
        } else {
            erros += 1
        }

        p_mensagenParabens.innerHTML = `Alálise de Tentativa: <br>
                                            Acertos: ${acertos} <br>
                                            Erros: ${erros}`

        if (pergunta > 10) {
            terminarQuiz()
            cadastrar()
        }
    }
    let idUsuario = sessionStorage.ID_USUARIO;

    function cadastrar() {
        fetch("/quiz/cadastrar", {
            method: "POST",
            headers: {
                "Content-Type": "application/json",
            },
            body: JSON.stringify({
                // crie um atributo que recebe o valor recuperado aqui
                // Agora vá para o arquivo routes/usuario.js
                acertosServer: acertos,
                errosServer: erros,
                usuarioidServer: idUsuario,
            }),
        })
            .then(function (resposta) {
                console.log("resposta: ", resposta);

                if (resposta.ok) {
                    console.log("OK")
                } else {
                    throw "Houve um erro ao tentar realizar o cadastro!";
                }
            })
            .catch(function (resposta) {
                console.log(`#ERRO: ${resposta}`);
            });

        return false;
    }
</script>